Themes for GUI Emacs, built on top of [[https://github.com/belak/base16-emacs][base16-emacs]], with some tweaks.

Namespace prefix: ~tarp/~

Screenshots:

| mcfay: [[https://i.imgur.com/fQCJvhp.png]] | struan: [[https://i.imgur.com/urf7cag.png]] | marlowe: [[https://i.imgur.com/rMTaaKG.png]] |

** Installation

Install with [[https://github.com/raxod502/straight.el][straight.el]]:

#+begin_src emacs-lisp
(straight-use-package
 '(tarps
   :host github
   :repo "neeasade/tarps"
   :branch "master"))
#+end_src

*** Dependencies

- [[https://github.com/neeasade/color-tools.el][color-tools.el]]
- [[https://github.com/belak/base16-emacs][base16-emacs]]
- [[https://github.com/Wilfred/ht.el/][ht.el]]
- [[https://github.com/magnars/s.el][s.el]]
- [[https://github.com/Wilfred/helpful][helpful]]
- [[https://github.com/troyp/fn.el][fn.el]]

** TODO Fishing

# The goal for this repo is primarily to bootstrap on other kits, and make it easy to enact wide effects with small changes - you may see some examples of that in my [[https://notes.neeasade.net/rice.html][screenshot history]].

# Tarp themes provide nested values that maintain contrast levels against differing levels of emphasis.

# After a tarp theme is loaded, it's colors will be accesible in the hash table tarp/theme -- thus, you may use the theme colors in other contexts by EG ~(ht-get tarp/theme :background)~. Current values and vague uses are outlined below:

| label         | meaning                             | example                                      |
|---------------+-------------------------------------+----------------------------------------------|
| :foreground   | default foreground                  |                                              |
| :background   | default background                  |                                              |
| :background>  | lightly emphasized background       | magit active section, org-todo background    |
| :background>> | emphasized background               | modeline                                     |
| :foreground+  | focused foreground                  | selected list item/search result             |
| :background+  | focused background                  | highlighted text                             |
| :faded        | (foreground) faded                  | comments                                     |
| :primary      | (foreground) identity               | functions, variables                         |
| :assumed      | (foreground) assumptions/core stuff | builtins, key words                          |
| :alt          | (foreground) rarely used fg         | types, matching string within search results |
| :strings      | (foreground) strings                | strings                                      |

Some thoughts on general theme opinions:

- Strings are important enough to get their own color for emphasis because they represent the edges or barriers at which things communicate sometimes
- Identity between functions and variables can be blended (lisp-1 type of feel)
- There is a need for a "barely different" bg for light emphasis that doesn't interrupt the same set of fg colors
- "focused" colors should be consistent as an indicator of what's about to be selected/or where the cursor is

** Local edits

The function ~tarp/tweak-function~ will be called before base16 is bootstrapped. You may change all the values of the scheme through the hashtable variable ~tarp/theme~ here. An example is shown below. The helper function ~tarp/edit~ can be used to iterate over all values in ~tarp/theme~, and takes a function that acts on keys (eg ~:accent1~) and values (eg ~"#dd88ff"~). You could do things here like enforce preferred contrast constraints, or try to account for your [[https://notes.neeasade.net/color-spaces.html#h-f23b8fe5-37a3-4ead-9d9d-a7139f76d532][viewing setting]].

#+begin_src emacs-lisp
(setq tarp/tweak-function
  (lambda ()
    ;; max out the faded fg color chroma:
    (let ((faded-fg (ht-get tarp/theme :foreground_)))
      (ht-set tarp/theme :foreground_
        (ct/transform-lch-c faded-fg 100)))

    ;; make every color darker by reducing lightness @ 70%:
    (tarp/edit
      (lambda (key val)
        (ct/transform-hsl-l val
          (lambda (l) (* 0.7 l)))))))
#+end_src

See also: ~tarp/edit-foregrounds~, ~tarp/edit-backgrounds~

** Contrast dumping

Calling ~tarp/show-contrasts~ will show the contrast ratios of all the foregrounds against all the backgrounds.

** The future

Some thoughts on my general theme opinions here:


** Thanks/Previous inspo

- [[https://github.com/MetroWind/lab-theme][lab-theme]]
- [[https://github.com/waymondo/apropospriate-theme][aproprospriate]]
- [[https://github.com/belak/base16-emacs][base16-emacs]]
